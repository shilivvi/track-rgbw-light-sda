var html='<section class="rgb active-menu"><div class="container"><div class="rgb__wrap"><div class="rgb__picker picker-rbg"><div id="picker"></div></div><div class="rgb__sliders sliders-rgb"><div class="sliders-rgb__item"><div class="sliders-rgb__icon sliders-rgb__icon--left sliders-rgb__icon--text"><span>WH</span><span>0%</span></div><div class="sliders-rgb__slider"><input class="sliders-rgb__input" id="white" type="range" min="0" max="255" value="0" oninput="whiteSliderChanged(this)" onchange="changeEventWhiteSlider(this)"></div><div class="sliders-rgb__icon sliders-rgb__icon--right sliders-rgb__icon--text"><span>WH</span><span>100%</span></div></div><div class="sliders-rgb__item"><div class="sliders-rgb__icon sliders-rgb__icon--left"><svg><use xlink:href="#small-sun"></use></svg></div><div class="sliders-rgb__slider"><input class="sliders-rgb__input" id="brightness" type="range" min="0" max="255" value="0" oninput="brightnessSliderChanged(this)" onchange="changeEventBrightnessSlider(this)"></div><div class="sliders-rgb__icon sliders-rgb__icon--right"><svg><use xlink:href="#big-sun"></use></svg></div></div></div></div></div></section><div id="favorite-colors" class="rgb__colors colors-rgb"><div class="container"><div class="colors-rgb__row"><div class="colors-rgb__item" style="background-color: rgb(255, 0, 255);" data-color="255,0,255"></div><div class="colors-rgb__item" style="background-color: rgb(0, 255, 255);" data-color="0,255,255"></div><div class="colors-rgb__item" style="background-color: rgb(255, 0, 0);" data-color="255,0,0"></div><div class="colors-rgb__item" style="background-color: rgb(0, 255, 0);" data-color="0,255,0"></div><div class="colors-rgb__item" style="background-color: rgb(255, 255, 0);" data-color="255,255,0"></div><div class="colors-rgb__item" style="background-color: rgb(0, 0, 255);" data-color="0,0,255"></div></div></div></div>';let colorPicker="",defaultColor=[255,0,0],defaultBr=150,defaultWhite=150;function setDefaultSettings(){colorPicker=new iro.ColorPicker("#picker",{width:330,color:{r:defaultColor[0],g:defaultColor[1],b:defaultColor[2],alpha:1}}),colorPicker.on("input:end",(function(e){const s=e.rgb;submitVal("c",65536*s.r+256*s.g+s.b)}));const e=document.querySelector("#brightness");e.value=parseInt(defaultBr);const s=e.value;e.style.background=`linear-gradient(to right, #1083ff, #1083ff ${s/2.56}%, #ccc ${s/2.56}%)`;const r=document.querySelector("#white");r.value=parseInt(defaultWhite);const t=r.value;r.style.background=`linear-gradient(to right, #1083ff, #1083ff ${t/2.56}%, #ccc ${t/2.56}%)`}function brightnessSliderChanged(e){let s=e.value;e.style.background=`linear-gradient(to right, #1083ff, #1083ff ${s/2.56}%, #ccc ${s/2.56}%)`}function changeEventBrightnessSlider(e){submitVal("l",e.value)}function whiteSliderChanged(e){let s=e.value;e.style.background=`linear-gradient(to right, #1083ff, #1083ff ${s/2.56}%, #ccc ${s/2.56}%)`}function changeEventWhiteSlider(e){submitVal("w",parseInt(e.value))}function initPresetsColors(){const e=document.querySelectorAll("#favorite-colors .colors-rgb__item");e&&e.forEach((e=>{e.addEventListener("click",(s=>{s.preventDefault();const r=e.getAttribute("data-color").split(",");submitVal("c",65536*parseInt(r[0])+256*parseInt(r[1])+parseInt(r[2])),colorPicker.color.rgb={r:r[0],g:r[1],b:r[2]}}))}))}function sendRequest(e,s,r=null){return new Promise(((t,i)=>{const n=new XMLHttpRequest;n.onload=()=>{n.status>=400?i(n.response):isJson(n.response)?t(JSON.parse(data)):t(n.response)},n.onerror=()=>{i(n.response)},n.open(e,s),n.send(JSON.stringify(r))}))}function getVal(e){return new Promise(((s,r)=>{sendRequest("GET",e).then((e=>s(e))).catch((e=>s(e)))}))}function submitVal(e,s){sendRequest("GET",`set?${e}=${s}`)}function getSvgSprite(e){const s=new XMLHttpRequest;s.open("GET",e,!0),s.send(),s.onload=function(e){const r=document.createElement("div");r.classList.add("svg-sprite"),r.innerHTML=s.responseText,document.body.insertBefore(r,document.body.childNodes[0])}}function isJson(e){try{JSON.parse(e)}catch(e){return!1}return!0}function decToRgb(e){return[Math.floor(e/65536),Math.floor(e/256)%256,e%256]}window.addEventListener("DOMContentLoaded",(()=>{getSvgSprite("https://sda.proykey.by/dist/img/sprite.svg"),document.querySelector("body").insertAdjacentHTML("afterbegin",html),getVal("defaults").then((e=>{const s=e.split(";");defaultColor=[s[0],s[1],s[2]],defaultWhite=s[3],defaultBr=s[4],setDefaultSettings(),initPresetsColors()}))}));